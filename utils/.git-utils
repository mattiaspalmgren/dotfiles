# Functions for interfacing with git conviniently

browse-log() {
    git log --format='%C(auto)%h %s' --color=always "$@" |  \
    fzf --ansi --reverse --tiebreak=index --no-sort --bind=ctrl-s:toggle-sort \
    --preview 'f() { set -- $(echo -- "$@" | grep -o "[a-f0-9]\{7\}"); [ $# -eq 0 ] || git show --color=always $1; }; f {}'
}

add-file() {
    FILE=$(git status  --short | grep '^\W.' | awk '{print $2}' | fzf --ansi --preview 'git diff --color=always {}')
    [[ -n "$FILE" ]] && git add $FILE
}
